<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MySQL基础 | 杨旋,&quot;你好&quot;</title><meta name="author" content="Yez Sun,757224748@qq.com"><meta name="copyright" content="Yez Sun"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="学习目标 ​    一、为什么要学习数据库​    二、数据库的相关概念​        DBMS、DB、SQL​    三、数据库存储数据的特点​    四、初识MySQL​        MySQL产品的介绍​        MySQL产品的安装​        MySQL服务的启动和停止​        MySQL服务的登录和退出​        MySQL的常见命令和语法规范​    五、">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL基础">
<meta property="og:url" content="https://sunshine-boy-yez.github.io/2021/03/03/MySQL%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="杨旋,&quot;你好&quot;">
<meta property="og:description" content="学习目标 ​    一、为什么要学习数据库​    二、数据库的相关概念​        DBMS、DB、SQL​    三、数据库存储数据的特点​    四、初识MySQL​        MySQL产品的介绍​        MySQL产品的安装​        MySQL服务的启动和停止​        MySQL服务的登录和退出​        MySQL的常见命令和语法规范​    五、">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2021-03-03T11:31:51.000Z">
<meta property="article:modified_time" content="2021-03-03T11:40:07.252Z">
<meta property="article:author" content="Yez Sun">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="/img/Hexoicon.png"><link rel="canonical" href="https://sunshine-boy-yez.github.io/2021/03/03/MySQL%E5%9F%BA%E7%A1%80/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-03-03 19:40:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/zhiZhu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">杨旋,&quot;你好&quot;</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">MySQL基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-03-03T11:31:51.000Z" title="Created 2021-03-03 19:31:51">2021-03-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-03-03T11:40:07.252Z" title="Updated 2021-03-03 19:40:07">2021-03-03</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>学习目标</p>
<p>​    一、为什么要学习数据库<br>​    二、数据库的相关概念<br>​        DBMS、DB、SQL<br>​    三、数据库存储数据的特点<br>​    四、初识MySQL<br>​        MySQL产品的介绍<br>​        MySQL产品的安装<br>​        MySQL服务的启动和停止<br>​        MySQL服务的登录和退出<br>​        MySQL的常见命令和语法规范<br>​    五、DQL语言的学习<br>​        基础查询<br>​        条件查询<br>​        排序查询<br>​        常见函数<br>​        分组函数<br>​        分组查询<br>​        连接查询<br>​        子查询<br>​        分页查询<br>​        union联合查询<br>​    六、DML语言的学习<br>​        插入语句<br>​        修改语句<br>​        删除语句<br>​    七、DDL语言的学习<br>​        库和表的管理<br>​        常见数据类型介绍<br>​        常见约束<br>​    八、TCL语言的学习<br>​        事务和事务处理<br>​    九、视图<br>​    十、索引<br>​    十一、变量<br>​    十二、存储过程和函数<br>​    十三、触发器<br>​    十四、流程控制结构</p>
<h5 id="数据库的好处"><a href="#数据库的好处" class="headerlink" title="数据库的好处"></a>数据库的好处</h5><p>​    1.持久化数据到本地<br>​    2.可以实现结构化查询，方便管理</p>
<h5 id="数据库相关概念"><a href="#数据库相关概念" class="headerlink" title="数据库相关概念"></a>数据库相关概念</h5><p>​    1、DB：数据库，保存一组有组织的数据的容器<br>​    2、DBMS：数据库管理系统，又称为数据库软件（产品），用于管理DB中的数据<br>​    3、SQL:结构化查询语言，用于和DBMS通信的语言</p>
<h5 id="数据库存储数据的特点"><a href="#数据库存储数据的特点" class="headerlink" title="数据库存储数据的特点"></a>数据库存储数据的特点</h5><p>​    1、将数据放到表中，表再放到库中<br>​    2、一个数据库中可以有多个表，每个表都有一个的名字，用来标识自己。表名具有唯一性。<br>​    3、表具有一些特性，这些特性定义了数据在表中如何存储，类似java中 “类”的设计。<br>​    4、表由列组成，我们也称为字段。所有表都是由一个或多个列组成的，每一列类似java 中的”属性”<br>​    5、表中的数据是按行存储的，每一行类似于java中的“对象”。</p>
<h5 id="初识MySQL"><a href="#初识MySQL" class="headerlink" title="初识MySQL"></a>初识MySQL</h5><h6 id="MySQL产品的介绍和安装"><a href="#MySQL产品的介绍和安装" class="headerlink" title="MySQL产品的介绍和安装"></a>MySQL产品的介绍和安装</h6><h6 id="MySQL服务的启动和停止"><a href="#MySQL服务的启动和停止" class="headerlink" title="MySQL服务的启动和停止"></a>MySQL服务的启动和停止</h6><p>​    方式一：计算机——右击管理——服务<br>​    方式二：通过管理员身份运行<br>​    net start 服务名（启动服务）<br>​    net stop 服务名（停止服务）</p>
<h6 id="MySQL服务的登录和退出"><a href="#MySQL服务的登录和退出" class="headerlink" title="MySQL服务的登录和退出"></a>MySQL服务的登录和退出</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">方式一：通过mysql自带的客户端</span><br><span class="line">只限于root用户</span><br></pre></td></tr></table></figure>

<pre><code>方式二：通过windows自带的客户端
登录：
mysql 【-h主机名/IP地址 -P端口号 】-u用户名 -p密码
&lt;当MySQL客户机与MySQL服务器是同一台主机时,主机号为localhost/127.0.0.1&gt;
退出：
exit(或ctrl+C)</code></pre>
<h6 id="MySQL的常见命令"><a href="#MySQL的常见命令" class="headerlink" title="MySQL的常见命令"></a>MySQL的常见命令</h6><pre><code>1.查看当前所有的数据库
show databases;
2.打开指定的库
use 库名;
3.查看当前库的所有表
show tables;
4.查看其它库的所有表
show tables from 库名;
5.查看表结构
desc/describe 表名;
或show columns from 表名;


7.查看服务器的版本
方式一：登录到mysql服务端
select version();
方式二：没有登录到mysql服务端
mysql --version 或 mysql -V</code></pre>
<h6 id="MySQL的语法规范"><a href="#MySQL的语法规范" class="headerlink" title="MySQL的语法规范"></a>MySQL的语法规范</h6><p>​    1.不区分大小写,但建议关键字大写，表名、列名小写<br>​    2.每条命令最好用分号结尾(或\g)<br>​    3.每条命令根据需要，可以进行缩进或换行<br>​    4.注释<br>​        单行注释：#注释文字<br>​        单行注释：– 注释文字<br>​        多行注释：/* 注释文字  */<br>​    </p>
<h6 id="SQL的语言分类"><a href="#SQL的语言分类" class="headerlink" title="SQL的语言分类"></a>SQL的语言分类</h6><p>​    DQL（Data Query Language）：数据查询语言<br>​        select<br>​    DML(Data Manipulate Language):数据操作语言<br>​        insert 、update、delete<br>​    DDL（Data Define Languge）：数据定义语言<br>​        create、drop、alter<br>​    TCL（Transaction Control Language）：事务控制语言<br>​        commit、rollback<br>​</p>
<h5 id="DQL语言的学习"><a href="#DQL语言的学习" class="headerlink" title="DQL语言的学习"></a>DQL语言的学习</h5><h6 id="进阶1：基础查询"><a href="#进阶1：基础查询" class="headerlink" title="进阶1：基础查询"></a>进阶1：基础查询</h6><p>​    语法：<br>​    SELECT 要查询的东西<br>​    【FROM 表名】;</p>
<pre><code>类似于Java中 :System.out.println(要打印的东西);
特点：
①通过select查询完的结果 ，是一个虚拟的表格，不是真实存在
②要查询的东西可以是常量值、可以是表达式、可以是字段、可以是函数

 `字段`  //使用着重号，表明为字段

select * from 表名;
    //表示查询所有字段，顺序为字段在原表中的顺序

select 要查询的东西 AS 别名 【from 表名】; 
select 要查询的东西 别名 【from 表名】; 
    //为要查询的东西起别名
    好处：①便于理解
         ②如果要查询的字段有重名的情况，使用别名可以区分开来
    注意：如果为表起了别名，则查询的字段就不能使用原来的表名去限定
    为了防止别名中有特殊符号，建议用&quot;&quot; (或&#39;&#39;)包起来

select distinct 要查询的东西 【from 表名】; //去除重复的结果

mysql中的+号：
select 操作数1+操作数2;
    两个操作数为数值型，则做加法运算
    只要其中一方有字符型，试图将字符型数值转换成数值型
        如果转换成功，则继续做加法运算
        如果转换失败，则将字符型数值转换成0
    只要其中一方为null，则结果为null
拼接通过调用函数 concat(操作数1,操作数2,...)</code></pre>
<h6 id="进阶2：条件查询"><a href="#进阶2：条件查询" class="headerlink" title="进阶2：条件查询"></a>进阶2：条件查询</h6><p>​    条件查询：根据条件过滤原始表的数据，查询到想要的数据<br>​    语法：<br>​    SELECT<br>​        要查询的字段|表达式|常量值|函数<br>​    FROM<br>​        表<br>​    WHERE<br>​        条件 ;</p>
<pre><code>分类：
一、条件表达式
 条件运算符：
    &gt; &lt; &gt;= &lt;= = &lt;&gt;(或!=)
    (!&gt; !&lt; not+上述运算符&lt;不能用&gt;)

二、逻辑表达式
 逻辑运算符：
    and(&amp;&amp;):两个条件如果同时成立，结果为true，否则为false
    or(||)：两个条件只要有一个成立，结果为true，否则为false
    not(!)：如果条件成立，则not后为false，否则为true

三、模糊查询
 1.确定范围：
    between and ，not between and
   特点：①可以提高语句的简洁的
           ②包含临界值
 2.确定集合：判断某字段的值是否属于in列表中的某一项
   特点：①可以提高语句的简洁的
           ②in列表的值类型必须一致或兼容
     in ，not in
 3.字符匹配：
     like ，not like
   特点：一般和通配符搭配使用
         通配符：
             % 任意多个字符(包含0个字符)
             _ 任意单个字符
         转义字符：\    (可以将通配符转义为普通字符)
          指定转义字符：escape &#39;指定的转义字符&#39;
             //使用like时，可使用指定的转义字符
 4.空值：只可以判断null值，=或&lt;&gt;不能判断null值
     is null ，is not null
   安全等于：&lt;=&gt; 既可以判断null值，又可以判断普通的数值</code></pre>
<h6 id="进阶3：排序查询"><a href="#进阶3：排序查询" class="headerlink" title="进阶3：排序查询"></a>进阶3：排序查询</h6><p>语法：<br>SELECT<br>    要查询的东西<br>FROM<br>    表<br>【WHERE<br>    条件】</p>
<p>ORDER BY 排序的字段|表达式|函数|别名 【ASC|DESC】</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">	1.asc代表升序，desc代表降序，默认是升序</span><br><span class="line">	2.支持多个字段等排序，先后排序顺序为其使用顺序</span><br></pre></td></tr></table></figure>

<p>​    </p>
<h6 id="进阶4：常见函数"><a href="#进阶4：常见函数" class="headerlink" title="进阶4：常见函数"></a>进阶4：常见函数</h6><p>概念：类似于java的方法，将一组逻辑语句封装在方法体中，对外暴露方法            名<br>好处：1.隐藏了实现细节<br>            2.提高代码的重用性<br>调用：SELECT 函数名(实参列表) 【from 表】;</p>
<p>​    一、单行函数<br>​    1、字符函数<br>​        concat    拼接<br>​        substr    截取子串 (索引从1开始)<br>​        upper    转换成大写<br>​        lower    转换成小写<br>​        trim    去前后指定的空格和字符 (去字符时参数用(‘字符’ from ‘字符串’) )<br>​        ltrim    去左边空格<br>​        rtrim    去右边空格<br>​        replace    替换<br>​        lpad    左填充<br>​        rpad    右填充<br>​        instr    返回子串第一次出现的索引，找不到返回0<br>​        length     获取字节个数<br>​    2、数学函数<br>​        round     四舍五入<br>​        rand     随机数<br>​        floor    向下取整<br>​        ceil    向上取整<br>​        mod    取余&lt;a-a/b*b&gt;<br>​        truncate    截断(得到为指定小数位)<br>​    3、日期函数<br>​        now    当前系统日期+时间<br>​        curdate    当前系统日期<br>​        curtime    当前系统时间<br>​        str_to_date     将字符通过指定格式转换成日期<br>​                %Y,   %y,%m,%c,%d, %H, %h,%i, %s<br>​                1111 11  01    1   01    24  12  00 00<br>​        date_format    将日期转换成字符<br>​        year、month…  获取指定的部分：年、月、日、小时、分钟、秒<br>​    4、流程控制函数<br>​        if     处理双分支(类似于?: 和 java中的if else)<br>​        case语句 处理多分支<br>​          情况1：处理等值判断<br>​            case 要判断的字段或表达式            //类似于java中的switch case<br>​            when 常量1 then 要显示的语句1;或值1<br>​            when 常量2 then 要显示的语句2;或值2<br>​            …<br>​            else 要显示的语句n;或值n<br>​            end;</p>
<p>​          情况2：处理条件判断<br>​            case                //类似于java中的多重if<br>​            when 条件1 then 要显示的语句1;或值1<br>​            when 条件1 then 要显示的语句2;或值2<br>​            …<br>​            else 要显示的语句n;或值n<br>​            end;</p>
<p>​    5、其他函数<br>​        version    版本<br>​        database    当前库<br>​        user    当前连接用户</p>
<p>​    </p>
<p>二、分组函数(统计函数/聚合函数/组函数)<br>    功能：用作统计使用</p>
<p>​    sum 求和<br>​    max 最大值<br>​    min 最小值<br>​    avg 平均值<br>​    count 计数</p>
<p>​    特点：<br>​    1、以上分组函数都忽略null值，除了count(*)<br>​    2、sum和avg一般用于处理数值型<br>​        max、min、count可以处理任何数据类型<br>​    3、都可以搭配distinct使用，用于统计去重后的结果<br>​    4、count的参数可以支持：<br>​        字段    *(每一行有一个字段不为null即不为null)、常量值(一般放1)<br>​    5、和分组函数一同查询的字段要求是group by后的字段</p>
<p>​     效率：<br>​    MYISAM存储引擎下，count(*)效率高<br>​    INNODB存储引擎下，count(星号)和count(1)的效率差不多，比count(字段)要            高一些<br>​    <em>一般使用 count(</em>)统计行数</p>
<h6 id="进阶5：分组查询"><a href="#进阶5：分组查询" class="headerlink" title="进阶5：分组查询"></a>进阶5：分组查询</h6><p>​    语法：<br>​    SELECT 查询的字段，分组函数<br>​    FROM 表<br>​    【WHERE 筛选条件】<br>​    GROUP BY 分组的字段<br>​    【HAVING 筛选条件】<br>​    【ORDER BY 子句】<br>​    </p>
<pre><code>特点：
1、可以按单个字段分组，也可以按表达式或函数分组
2、和分组函数一同查询的字段最好是分组后的字段
3、分组筛选
            针对的表      位置                     关键字
分组前筛选：    原始表           group by子句的前面        where
分组后筛选：    分组后的结果集    group by子句的后面         having

4、可以按多个字段分组，字段之间用逗号隔开
5、可以支持排序
6、having后可以支持别名
7、分组函数做条件肯定是放在having子句中
8、能用在分组前筛选的，就优先考虑使用分组前筛选</code></pre>
<h6 id="进阶6：连接查询"><a href="#进阶6：连接查询" class="headerlink" title="进阶6：连接查询"></a>进阶6：连接查询</h6><pre><code>笛卡尔乘积：如果连接条件省略或无效则会出现
解决办法：添加上连接条件</code></pre>
<p>一、传统模式下的连接 ：等值连接——非等值连接</p>
<pre><code>1.等值连接的结果为多个表的交集部分
2.n表连接，至少需要n-1个连接条件(再用and连接)
3.多个表不分主次，没有顺序要求
4.一般为表起别名，提高阅读性和性能

sql92语法：支持等值连接、非等值连接、自身连接，多表连接
          也支持一部分外连接(用于Oracle、sqlserver,mysql不支持)

等值连接/非等值连接：
select 查询列表
from 表1 别名1,表2 别名2
where 别名1.key=别名2.key / 非等值的连接条件
【and 筛选条件】
【group by 分组字段】
【having 分组后的筛选条件】
【order by 排序的字段等】

自身连接：
select 查询列表
from 表 别名1,表 别名2
where 别名1.key=别名2.key
【and 筛选条件】
【group by 分组字段】
【having 分组后的筛选条件】
【order by 排序的字段等】</code></pre>
<p>二、sql99语法：通过join关键字实现连接</p>
<pre><code>含义：1999年推出的sql语法
支持：
 等值连接、非等值连接、自连接 （内连接:inner,inner可以省略）
 外连接
       （包括左外连接:left【outer】、
        右外连接:right【outer】、
        全外连接:full【outer】(mysql不支持)）
 交叉连接:cross     //相当于求笛卡尔积

语法：
select 字段，...
from 表1
【inner|left outer|right outer|cross】join 表2 on  连接条件
【inner|left outer|right outer|cross】join 表3 on  连接条件
【where 筛选条件】
【group by 分组字段】
【having 分组后的筛选条件】
【order by 排序的字段等】

好处：语句上，连接条件和筛选条件实现了分离，简洁明了！
外连接特点：
1.外连接的查询结果为主表中的所有记录
    如果从表中有和它匹配的，则显示匹配的结果
    如果从表中没有和它匹配的，则显示null
  即外连接结果=内连接结果——主表中有而从表中没有的记录
2.左外连接，left join左边的是主表
  右外连接，right join右边的是主表
3.全外连接=内连接的结果+表1中有但表2没有的+表2中有但表1中没有的</code></pre>
<h6 id="进阶7：子查询"><a href="#进阶7：子查询" class="headerlink" title="进阶7：子查询"></a>进阶7：子查询</h6><p>含义：</p>
<pre><code>一条查询语句中又嵌套了另一条完整的select语句，其中被嵌套的select语句，称为子查询或内查询
在外面的查询语句，称为主查询或外查询</code></pre>
<p>特点：</p>
<pre><code>1、子查询都放在小括号内
2、子查询可以放在from后面(将子查询结果充当一张表,要求必须取别名)、        select后面(仅支持标量子查询&lt;结果集只有一行一列&gt;)、where后面、        having后面、(not) exists后面(相关子查询)，但一般放在条件的右侧
3、子查询优先于主查询执行，主查询使用了子查询的执行结果
4、子查询根据查询结果的行数不同分为以下两类：
① 单行子查询
    结果集只有一行
    一般搭配单行操作符使用：&gt; &lt; = != / &lt;&gt; &gt;= &lt;= 
    非法使用子查询的情况：
    a、子查询的结果为一组值
    b、子查询的结果为空

② 多行子查询
    结果集有多行
    一般搭配多行操作符使用：any/some(和子查询返回的某一个值比较)、        all(和子查询返回的所有值比较)、in(属于子查询结果中的任意一个          就行)、not in
    any/some和all往往可以用其他查询代替

5.子查询的select语句中不能使用order by子句，order by子句只能对最终   查询结果排序
6.行子查询(多列)
  select 字段|表达式,...
  from 表
  where(字段1,字段2,..)操作符(
      select 字段1...,字段2..., ...
      from 表
  )        &lt;要求每个字段与字段或字段与表达式等之间进行的操作相同&gt;

7.exists
 语法：exists(完整的查询语句)
     判断子查询结果是否为空
 结果：1或0(true或false)
 特点：由exists引出的子查询，其目标列表达式通常用*

8.相关子查询：子查询的查询条件依赖于父查询</code></pre>
<h6 id="进阶8：分页查询"><a href="#进阶8：分页查询" class="headerlink" title="进阶8：分页查询"></a>进阶8：分页查询</h6><p>应用场景：</p>
<pre><code>实际的web项目中需要根据用户的需求提交对应的分页查询的sql语句</code></pre>
<p>语法：</p>
<pre><code>select 字段|表达式,...    //6
from 表1        //1
【连接类型 join 表2 on 连接条件】    //2
【where 条件】    //3
【group by 分组字段】        //4
【having 条件】        //5
【order by 排序的字段】    //7
limit 【起始的条目索引，】条目数;    //8</code></pre>
<p>特点：</p>
<pre><code>1.起始条目索引从0开始,不指明则默认为0
2.limit子句放在查询语句的最后
3.得到指定页公式：
  select * from 表 limit (page-1)*sizePerPage,sizePerPage
 每页显示条目数sizePerPage
 要显示的页数 page</code></pre>
<h6 id="进阶9：联合查询"><a href="#进阶9：联合查询" class="headerlink" title="进阶9：联合查询"></a>进阶9：联合查询</h6><p>引入：<br>    union 联合、合并<br>应用场景：<br>    要查询的结构来自于多张表，且多个表没有直接的连接关系，但查询的信       息一致时</p>
<p>语法：</p>
<pre><code>select 字段|常量|表达式|函数 【from 表】 【where 条件】 union 【all】
select 字段|常量|表达式|函数 【from 表】 【where 条件】 union 【all】
.....
select 字段|常量|表达式|函数 【from 表】 【where 条件】</code></pre>
<p>特点：</p>
<pre><code>1、多条查询语句的查询的列数必须是一致的
2、多条查询语句的查询的列的类型和顺序最好一致
3、union代表去重，union all代表不去重</code></pre>
<h5 id="DML语言"><a href="#DML语言" class="headerlink" title="DML语言"></a>DML语言</h5><h6 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h6><p>方式一语法：<br>    INSERT INTO 表名(字段名1，…)<br>    VALUES(值1，…), (值1，…), …;</p>
<p>特点：</p>
<pre><code>1、字段类型和值类型一致或兼容，而且一一对应
2、可以为空的字段，可以不用插入值，或用null填充
3、不可以为空的字段，必须插入值
4、字段个数和值的个数必须一致
5、字段可以省略，但默认所有字段，并且顺序和表中的存储顺序一致</code></pre>
<p>方式二语法：<br>    INSERT INTO 表名<br>    SET 列名1=值1,列名2=值2,…</p>
<p>比较：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.方式一支持插入多行，方式二不支持</span><br><span class="line">2.方式一支持子查询，方式二不支持</span><br></pre></td></tr></table></figure>

<h6 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h6><p>修改单表语法：</p>
<p>​    UPDATE 表名<br>​    SET 字段1=新值1, …<br>​    【WHERE 条件】;</p>
<p>修改多表语法(sql92)：</p>
<p>​    UPDATE 表1 别名1,表2 别名2<br>​    SET 字段=新值，字段=新值<br>​    WHERE 连接条件<br>​    AND 筛选条件;</p>
<p>(sql99)：</p>
<p>​    UPDATE 表1 别名1<br>​    INNER|LEFT|RIGHT|CROSS JOIN 表2 别名2<br>​    ON 连接条件<br>​    SET 字段1=新值1, …<br>​    WHERE 筛选条件;</p>
<h6 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h6><p>方式1：delete语句 </p>
<p>单表的删除：<br>    DELETE FROM 表名<br>    【WHERE 筛选条件】;</p>
<p>多表的删除(sql92)：<br>    DELETE 别名1，别名2<br>    FROM 表1 别名1，表2 别名2<br>    WHERE 连接条件<br>    AND 筛选条件;</p>
<p>​    (sql99)：</p>
<p>​    DELETE 别名1【，别名2】<br>​    FROM 表1 别名1<br>​    INNER|LEFT|RIGHT|CROSS JOIN 表2 别名2<br>​    WHERE 筛选条件;</p>
<p>方式2：truncate语句</p>
<p>TRUNCATE TABLE 表名;</p>
<p>两种方式的区别：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.truncate不能加where条件，而delete可以加where条件</span><br><span class="line">2.truncate的效率高一点</span><br><span class="line">3.truncate 删除带自增长的列的表后，如果再插入数据，数据从1开始</span><br><span class="line">  delete 删除带自增长列的表后，如果再插入数据，数据从上一次的断点处开始</span><br><span class="line">4.truncate删除没有返回值，delete删除有返回值</span><br><span class="line">5.truncate删除不能回滚，delete删除可以回滚</span><br><span class="line">6.如果清空记录的表是父表，那么truncate命令永远执行失败</span><br><span class="line">7.truncate table语句不会触发触发器程序的运行</span><br></pre></td></tr></table></figure>



<h5 id="DDL语言"><a href="#DDL语言" class="headerlink" title="DDL语言"></a>DDL语言</h5><h6 id="库和表的管理"><a href="#库和表的管理" class="headerlink" title="库和表的管理"></a>库和表的管理</h6><p>库的管理：</p>
<pre><code>一、创建库
create database 【if not exists】 库名;
二、删除库
drop database 【if exists】 库名;</code></pre>
<p>表的管理：<br>1.创建表 create</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">create table 【if not exists】 表名(</span><br><span class="line">	列名 列的类型 【(长度) 列级约束】,</span><br><span class="line">	列名 列的类型 【(长度) 列级约束】,</span><br><span class="line">	...</span><br><span class="line">	列名 列的类型 【(长度) 列级约束】</span><br><span class="line">	【表级约束】</span><br><span class="line">)【其他选项（如存储引擎、字符集、自增初始值等选项）】;</span><br></pre></td></tr></table></figure>

<p>2.修改表 alter<br>​语法：<br>​ALTER TABLE 表名<br>​ADD|MODIFY|DROP|CHANGE COLUMN 字段名 【字段类型  约束】;</p>
<p>​    ①修改表名<br>​    ALTER TABLE 旧表名 RENAME 【TO】 新表名;<br>​    ②修改字段名<br>​    ALTER TABLE 表名 CHANGE 【COLUMN】 旧列名 新列名 类型 约束;<br>​    ③修改字段类型和列级约束<br>​    ALTER TABLE 表名 MODIFY COLUMN 列名 类型/约束 ;<br>​    ④添加字段<br>​    ALTER TABLE 表名 ADD COLUMN 新列名 类型【约束】;<br>​    ⑤删除字段<br>​    ALTER TABLE 表名 DROP COLUMN 列名;</p>
<p>3.删除表 drop<br>DROP TABLE 【IF EXISTS】 表名;</p>
<p>4.表的复制<br>    ①仅仅复制表的结构<br>        CREATE TABLE 新表 LIKE 源表;<br>    ②复制表的结构+数据<br>        CREATE TABLE 新表<br>        SELECT * FROM 源表;<br>    ③复制表的结构+部分数据<br>        CREATE TABLE 新表<br>        查询语句;<br>    &lt;特例：仅复制部分结构&gt;<br>        CREATE TABLE 新表<br>        SELECT 字段1,…<br>        FROM 源表<br>        WHERE 0;</p>
<p>​    注意：<br>​        Select * from …方法不能完全复制表的约束条件，若需要复制完整的表结构，需要借助于mysqldump工具完成。</p>
<h6 id="常见类型"><a href="#常见类型" class="headerlink" title="常见类型"></a>常见类型</h6><pre><code>整型：tinyint&lt;1&gt;、smallint&lt;2&gt;、mediumint&lt;3&gt;、int/integer&lt;4&gt;、bigint&lt;8&gt;
小数：
    浮点型：float(m,d) &lt;4&gt;、double(m,d) &lt;8&gt;
    定点型：dec(m,d)/decimal(m,d) &lt;m+2,最大取值范围与double相同&gt;
字符型：
    较短的文本：char(m)、varchar(m) &lt;m为最多字节数&gt;
    binary、varbinary &lt;较短的二进制数据&gt;
    enum &lt;枚举,插入的值必须属于列表中指定的值之一,不区分大小写&gt;
    set &lt;集合,和enum类似,区别在于一次可以选取多个成员&gt;
    较长的文本：text、blob &lt;较长的二进制数据&gt;
日期型：
    date&lt;4,日期&gt;、datetime&lt;8,日期+时间&gt;、timestamp&lt;4,表示时间戳,日期+时间&gt;、time&lt;3,时间&gt;、year&lt;1,年&gt;</code></pre>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">整型特点：</span><br><span class="line">①如果不设置是否有符号，则默认是有符号，如果想设置无符号，则需要添加unsigned关键字</span><br><span class="line">②如果插入的数值超出了整形的范围，会报out of range异常，并且插入临界值</span><br><span class="line">③如果不设置长度，会有默认的长度</span><br><span class="line">④长度代表显示的最大宽度（宽度只会根据类型确定,只有宽度不够是有效），如果不够会用0在左边填充，但必须搭配zerofill使用，且使用后类型确定为unsigned</span><br><span class="line"></span><br><span class="line">浮点型特点：</span><br><span class="line">①m：整数部位+小数部位，d：小数部位</span><br><span class="line">②m和d都可以省略</span><br><span class="line">	如果是decimal，则m默认为10，d默认为0</span><br><span class="line">	如果是float和double，则会根据插入的数值的精度来决定精度</span><br><span class="line">③定点型的精确度较高（如货币运算等）</span><br><span class="line"></span><br><span class="line">字符型特点：</span><br><span class="line">char表示固定长度的字符，其m可以省略，默认为1，比较耗费空间，但效率较高；varchar表示可变长度的字符，其m不可以省略，比较节省空间，但效率较低</span><br><span class="line"></span><br><span class="line">日期型特点：</span><br><span class="line">datetime表示范围大致为1000--9999，不受时区等影响；timestamp表示范围大致为1970--2038，受时区、MySQL版本和SQLMode等影响</span><br><span class="line"></span><br><span class="line">原则：所选择的类型越简单越好，能保存数值的类型越小越好</span><br></pre></td></tr></table></figure>



<h6 id="常见约束"><a href="#常见约束" class="headerlink" title="常见约束"></a>常见约束</h6><pre><code>NOT NULL：非空，用于保证该字段的值不能为空
DEFAULT：默认，用于保证该字段有默认值
UNIQUE：唯一，用于保证该字段的值具有唯一性，可以为空(只能包含一个null)
CHECK：检查约束【mysql中不支持】
PRIMARY KEY：主键，用于保证该字段的值具有唯一性，并且非空
FOREIGN KEY：外键，用于限制两个表的关系，用于保证该字段的值必须来自于主表的关联列的值，在从表添加外键约束，用于引用主表中某列的值,外键一般为主表的主键(或唯一)
    FOREIGH KEY(外键) REFERENCES 被参照表(被参照列)</code></pre>
<p>添加约束的时机：<br>    1.创建表时<br>    2.修改表时<br>        列级约束：<br>                alter table 表名 modify column 列名 列的类型 【(长度) 】列级约束        表级约束：<br>                alter table 表名 add 【constraint 约束名】 表级约束(字段名) 【外键的引用】    (添加)<br>                alter table 表名 drop 【constraint 约束名】 表级约束</p>
<p>约束的添加分类：<br>    列级约束：六大约束语法上都支持，但外键约束没有效果<br>    表级约束：除了非空、默认，其他的都支持<br>            【constraint 约束名】 约束类型</p>
<p>标识列(自增长列)：auto_increment<br>    特点：1.必须和key(主键、唯一、外键)搭配<br>                2.一个表至多一个标识列<br>                3.标识列的类型只能是数值型<br>                4.标识列可以通过 set auto_increment_increment=3; 设置步长，可以通过手动插入值设置起始值</p>
<h5 id="数据库事务"><a href="#数据库事务" class="headerlink" title="数据库事务"></a>数据库事务</h5><h6 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h6><p>​    通过一组逻辑操作单元（一组DML——sql语句），将数据从一种状态切换到另外一种状态</p>
<h6 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h6><p>​    （ACID）<br>​    原子性：要么都执行，要么都回滚<br>​    一致性：保证数据的状态操作前和操作后保持一致<br>​    隔离性：多个事务同时操作相同数据库的同一个数据时，一个事务的执行不受另外一个事务的干扰<br>​    持久性：一个事务一旦提交，则数据将持久化到本地，除非其他事务对其进行修改</p>
<p>相关步骤：</p>
<pre><code>1、开启事务
2、编写事务的一组逻辑操作单元（多条sql语句）
3、提交事务或回滚事务</code></pre>
<h6 id="事务的分类"><a href="#事务的分类" class="headerlink" title="事务的分类"></a>事务的分类</h6><p>隐式事务，没有明显的开启和结束事务的标志</p>
<pre><code>比如
insert、update、delete语句本身就是一个事务</code></pre>
<p>显式事务，具有明显的开启和结束事务的标志</p>
<pre><code>    1、开启事务
    取消自动提交事务的功能

    2、编写事务的一组逻辑操作单元（多条sql语句）
    insert
    update
    delete

    3、提交事务或回滚事务</code></pre>
<h6 id="使用到的关键字"><a href="#使用到的关键字" class="headerlink" title="使用到的关键字"></a>使用到的关键字</h6><pre><code>set autocommit=0;
start transaction;
commit;
rollback;

savepoint  断点
rollback to 断点</code></pre>
<h6 id="事务的隔离级别"><a href="#事务的隔离级别" class="headerlink" title="事务的隔离级别"></a>事务的隔离级别</h6><p>事务并发问题如何发生？</p>
<pre><code>当多个事务同时操作同一个数据库的相同数据时</code></pre>
<p>事务的并发问题有哪些？</p>
<pre><code>脏读：一个事务读取到了另外一个事务未提交的数据
不可重复读：同一个事务中，多次读取到的数据不一致
幻读：一个事务读取数据时，另外一个事务进行更新，导致第一个事务读取到了没有更新的数据</code></pre>
<p>如何避免事务的并发问题？</p>
<pre><code>通过设置事务的隔离级别
1、READ UNCOMMITTED
2、READ COMMITTED 可以避免脏读
3、REPEATABLE READ 可以避免脏读、不可重复读（默认）
4、SERIALIZABLE可以避免脏读、不可重复读和幻读</code></pre>
<p>设置隔离级别：</p>
<pre><code>set session|global  transaction isolation level 隔离级别名;</code></pre>
<p>查看隔离级别：</p>
<pre><code>select @@tx_isolation;</code></pre>
<h5 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h5><p>含义：理解成一张虚拟的表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">视图和表的区别：</span><br><span class="line">     使用方式	  占用物理空间</span><br><span class="line">视图	完全相同	不占用，仅仅保存的是sql逻辑</span><br><span class="line">表	 完全相同	 占用</span><br></pre></td></tr></table></figure>

<p>视图的作用：</p>
<pre><code>1、简化数据查询语句
2、使用户能从多角度看到同一数据
3、提高了数据的安全性
4、提供了一定程度的逻辑独立性
5、减少带宽流量、优化后还可提高执行效率</code></pre>
<p>视图优点：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、提供了另外一种级别的表安全性</span><br><span class="line">2、隐藏的数据的复杂性</span><br><span class="line">3、简化的用户的SQL命令</span><br><span class="line">4、通过重命名列，从另一个角度提供数据</span><br></pre></td></tr></table></figure>

<h6 id="视图的创建"><a href="#视图的创建" class="headerlink" title="视图的创建"></a>视图的创建</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">CREATE VIEW  视图名【(列名)】</span><br><span class="line">AS</span><br><span class="line">查询语句;</span><br></pre></td></tr></table></figure>

<h6 id="视图逻辑的更新"><a href="#视图逻辑的更新" class="headerlink" title="视图逻辑的更新"></a>视图逻辑的更新</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">方式一：</span><br><span class="line">CREATE OR REPLACE VIEW 视图名【(列名)】</span><br><span class="line">AS</span><br><span class="line">查询语句;</span><br><span class="line"></span><br><span class="line">方式二:</span><br><span class="line">ALTER VIEW 视图名(列名)</span><br><span class="line">AS</span><br><span class="line">查询语句;</span><br></pre></td></tr></table></figure>

<h6 id="视图的删除"><a href="#视图的删除" class="headerlink" title="视图的删除"></a>视图的删除</h6><p>​    DROP VIEW【IF EXISTS】 视图名1, 视图名2,…;</p>
<h6 id="视图结构的查看"><a href="#视图结构的查看" class="headerlink" title="视图结构的查看"></a>视图结构的查看</h6><p>​    DESC 视图名;<br>​    SHOW CREATE VIEW 视图名;</p>
<h6 id="视图的增删改查"><a href="#视图的增删改查" class="headerlink" title="视图的增删改查"></a>视图的增删改查</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、查看视图的数据 </span><br><span class="line">select 字段名1,...</span><br><span class="line">from 视图名</span><br><span class="line">【where 条件】;</span><br><span class="line"></span><br><span class="line">2、插入视图的数据</span><br><span class="line">INSERT INTO 视图名(字段名1，...)</span><br><span class="line">VALUES(值1，...), (值1，...), ...;</span><br><span class="line"></span><br><span class="line">3、修改视图的数据</span><br><span class="line">UPDATE 视图名</span><br><span class="line">SET 字段1&#x3D;新值1, ...</span><br><span class="line">【WHERE 条件】;</span><br><span class="line"></span><br><span class="line">4、删除视图的数据</span><br><span class="line">DELETE FROM 视图名;</span><br></pre></td></tr></table></figure>

<h6 id="某些视图不能更新"><a href="#某些视图不能更新" class="headerlink" title="某些视图不能更新"></a>某些视图不能更新</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">限制：</span><br><span class="line">1、一次只能修改一个底层的基表</span><br><span class="line">2、如果修改违反了基表的约束条件，则无法更新视图</span><br><span class="line">3、如果视图中的列不是表中的原始列（如创建视图时使用了连接操作符、聚合函数等），则不能通过视图更新。</span><br><span class="line"></span><br><span class="line">特定结构：</span><br><span class="line">1、包含以下关键字的sql语句：distinct、group by、order by、having、union或者union all、分组函数</span><br><span class="line">2、常量视图</span><br><span class="line">3、select中包含子查询</span><br><span class="line">4、from子句中包含多个表</span><br><span class="line">5、from一个不能更新的视图</span><br><span class="line">6、where子句的子查询引用了from子句中的表</span><br></pre></td></tr></table></figure>



<h5 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h5><p>概念：</p>
<p>​    一个单独的、物理的数据库结构，它是某个表中一列或若干列值的集合和相应的指向表中物理标识这些值的数据页的逻辑指针清单。</p>
<p>优点：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、大大加快数据的检索速度</span><br><span class="line">2、创建唯一性索引，保证数据库表中每一行数据的唯一性</span><br><span class="line">3、加快表与表之间的连接</span><br><span class="line">4、在使用分组和排序子句进行数据检索时，可显著减少查询中分组和排序的时间</span><br></pre></td></tr></table></figure>

<p>缺点：</p>
<p>​    索引需要占物理空间，当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，降低了数据的维护速度。</p>
<p>分类：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">（1）普通索引：这是最基本的索引，它没有任何限制，允许在定义索引的列中插入重复值和空值；</span><br><span class="line"></span><br><span class="line">（2）唯一索引：它与前面的普通索引类似，不同的就是：索引列的值必须唯一，但允许有空值。如果是组合索引，则列值的组合必须唯一</span><br><span class="line"></span><br><span class="line">（3）主键索引（通过主键约束间接创建）：它是一种特殊的唯一索引，不允许有空值。一般是在建表的时候同时创建主键索引</span><br><span class="line"></span><br><span class="line">（4）组合索引：在表中的多个列上创建的索引。组合索引在使用时遵循最左前缀集合，即只有在查询条件中使用了这些字段的左边字段时，索引才会被使用。</span><br><span class="line"></span><br><span class="line">（5）全文索引：索引关键字为FULLTEXT，在定义的列上支持值的全文查找，允许在这些索引列中插入重复值和空值，能创建全文索引的列为如下数据类型的CHAR,VARCHAR,TEXT的列，并且存储引擎为MyISAM.</span><br><span class="line"></span><br><span class="line">（6）空间索引：对空间数据类型的字段建立的索引。MYSQL 空间数据类型有4种，分别为：GEOMETRY、POINT、LINESTRING、POLYGON。索引关键字为SPATIAL。创建空间索引的列应该申明NOT NULL，同时空间索引的创建和全文索引一样，只能在存储引擎为MyISAM的表中创建。</span><br></pre></td></tr></table></figure>

<h6 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1、建表时创建索引</span><br><span class="line">create table 表名(</span><br><span class="line">	列名 列的类型 【(长度) 列级约束】,</span><br><span class="line">	...,</span><br><span class="line">	【unique|fulltext|spatial】index|key</span><br><span class="line">	索引名(列名【(长度) asc|desc】)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">2、使用alter table创建索引</span><br><span class="line">alter table 表名</span><br><span class="line">add</span><br><span class="line">【unique|fulltext|spatial】index|key</span><br><span class="line">索引名(列名【(长度) asc|desc】);</span><br><span class="line"></span><br><span class="line">3、使用create index创建索引</span><br><span class="line">create 【unique|fulltext|spatial】</span><br><span class="line">index 索引名 on 表名(列名【(长度) asc|desc】);</span><br></pre></td></tr></table></figure>

<h6 id="查看索引"><a href="#查看索引" class="headerlink" title="查看索引"></a>查看索引</h6><p>show index|keys from 表名;</p>
<h6 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h6><p>drop index 索引名 on 表名;<br>alter table 表名 drop index 索引名;</p>
<h6 id="前缀索引"><a href="#前缀索引" class="headerlink" title="前缀索引"></a>前缀索引</h6><p>索引选择性：不重复的索引值（也称为基数，cardinality)和数据表的记录总数的比值。索引的选择性越高则查询效率越高。唯一索引的选择性是1，这是最好的索引选择性，性能也是最好的。</p>
<p>前缀索引中字符长度的确定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">创建前缀索引：</span><br><span class="line">alter table 表名 add key(列名(长度));</span><br><span class="line">某字段的索引选择性：</span><br><span class="line">select count(distinct 列名)&#x2F;count(*) from 表名;</span><br><span class="line">测试不同字符长度前缀索引的选择性：</span><br><span class="line">select count(distinct left(列名,长度))&#x2F;count(*) from 表名;</span><br></pre></td></tr></table></figure>

<p>使用前缀索引的情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、字符串列(varchar,char,text等)，需要进行全字段匹配或者前匹配。也就是&#x3D;‘xxx’ 或者 like ‘xxx%&#39;</span><br><span class="line">2、字符串本身可能比较长，而且前几个字符就开始不相同</span><br><span class="line">3、前一半字符的索引选择性就已经接近于全字段的索引选择性</span><br></pre></td></tr></table></figure>



<h5 id="存储过程与函数"><a href="#存储过程与函数" class="headerlink" title="存储过程与函数"></a>存储过程与函数</h5><p>含义：一组经过预先编译的sql语句的集合<br>好处：</p>
<pre><code>1、提高了sql语句的重用性，减少了开发程序员的压力
2、提高了效率
3、减少了传输次数</code></pre>
<p>分类：</p>
<pre><code>1、无返回无参
2、仅仅带in类型，无返回有参
3、仅仅带out类型，有返回无参
4、既带in又带out，有返回有参
5、带inout，有返回有参
注意：in、out、inout都可以在一个存储过程中带多个</code></pre>
<h6 id="创建存储过程"><a href="#创建存储过程" class="headerlink" title="创建存储过程"></a>创建存储过程</h6><p>语法：</p>
<pre><code>create procedure 存储过程名(in|out|inout 参数名  参数类型,...)
【存储过程特性选项】
begin
    存储过程体
end</code></pre>
<p>注意：</p>
<pre><code>1、需要设置新的结束标记
delimiter 新的结束标记
避免使用反斜杠(&#39;\&#39;)字符，因为反斜线是MySQL的默认换行字符
示例：
delimiter $
create procedure 存储过程名(in|out|inout 参数名  参数类型,...)
begin
    sql语句1;
    sql语句2;
end $
delimiter ;

2、存储过程体中可以有多条sql语句，如果仅仅一条sql语句，则可以省略begin end

3、参数前面的符号的意思
in:该参数只能作为输入 （该参数不能做返回值）
out：该参数只能作为输出（该参数只能做返回值）
inout：既能做输入又能做输出（尽量少用）

4、存储过程特性选项
language sql
|【not】deterministic
|&#123;contains|no sql|reads sql data|modifies sql data&#125;
|sql security&#123;definer|invoker&#125;
|comment &#39;string&#39;</code></pre>
<h6 id="调用存储过程"><a href="#调用存储过程" class="headerlink" title="调用存储过程"></a>调用存储过程</h6><p>​    call 存储过程名(实参列表);</p>
<h6 id="创建函数"><a href="#创建函数" class="headerlink" title="创建函数"></a>创建函数</h6><p>学过的函数：length、substr、concat等<br>语法：</p>
<pre><code>create function 函数名(参数名 参数类型,...) returns 返回类型
【存储过程特性选项】
begin
    函数体
    return 值;
end</code></pre>
<h6 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h6><p>​    select 函数名(实参列表);</p>
<h6 id="函数和存储过程的区别"><a href="#函数和存储过程的区别" class="headerlink" title="函数和存储过程的区别"></a>函数和存储过程的区别</h6><pre><code>        关键字        调用语法         返回值            应用场景
函数       function     select 函数()   只能是一个        一般用于查询结果为一个值并返回时，当有返回值而且仅仅一个
存储过程  procedure    call 存储过程()     可以有0个或多个    一般用于更新</code></pre>
<p>查看存储程序：<br>    show create procudure|function 名称;<br>查看存储程序状态：<br>    show procedure|function status 【like ‘限定’】;<br>查看存储程序信息：<br>    select * from information_schema.routines<br>    where routine_name=名称 and routine_type=’function|procedure’;<br>删除存储程序：<br>    drop procedure|function 名称;</p>
<h6 id="错误触发条件和错误处理"><a href="#错误触发条件和错误处理" class="headerlink" title="错误触发条件和错误处理"></a>错误触发条件和错误处理</h6><p>自定义错误触发条件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare 名称 condition for 错误触发条件;</span><br></pre></td></tr></table></figure>

<p>自定义错误处理程序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">declare [continue|exit|undo] handler for 错误触发条件 自定义错误处理程序;</span><br><span class="line"></span><br><span class="line">错误处理类型：</span><br><span class="line">continue表示遇到错误不进行处理，继续向下执行；</span><br><span class="line">exit表示遇到错误后马上退出；</span><br><span class="line">undo表示遇到错误后撤回之前的操作，MySQL暂不支持</span><br><span class="line"></span><br><span class="line">错误触发条件：</span><br><span class="line">sqlstate [VALUE] sqlstate_value    &#x2F;&#x2F;包含5个字符的字符串错误值</span><br><span class="line">|condition_name         &#x2F;&#x2F;表示declare condition定义的错误条件名称</span><br><span class="line">|sqlwarning                   &#x2F;&#x2F;匹配所有以01开头的sqlstate错误代码</span><br><span class="line">|not found                     &#x2F;&#x2F;匹配所有以02开头的sqlstate错误代码</span><br><span class="line">|sqlexception  &#x2F;&#x2F;匹配所有没有被SQLWARNING或NOT FOUND捕获的SQLSTATE错误代码</span><br><span class="line">|mysql_error_code   &#x2F;&#x2F;匹配数值类型错误代码</span><br></pre></td></tr></table></figure>

<p>说明： 一般情况下，自定义错误处理程序置于存储程序（过程或函数）中才有意义，错误处理程序的定义必需放在所有变量以及游标定义之后，并且放在其他所有MySQL表达式之前。</p>
<h6 id="游标"><a href="#游标" class="headerlink" title="游标"></a>游标</h6><h5 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h5><h6 id="创建触发器"><a href="#创建触发器" class="headerlink" title="创建触发器"></a>创建触发器</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create trigger 触发器名</span><br><span class="line">【before|after】【insert|delete|update】 on 表名</span><br><span class="line">for each row</span><br><span class="line">begin</span><br><span class="line">	触发器程序体;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>说明：<br>不能同时在一个表上建立2个相同类型的触发器，因此在一个表上最多建立6个触发器</p>
<h6 id="查看触发器"><a href="#查看触发器" class="headerlink" title="查看触发器"></a>查看触发器</h6><h6 id="删除触发器"><a href="#删除触发器" class="headerlink" title="删除触发器"></a>删除触发器</h6><h5 id="流程控制结构"><a href="#流程控制结构" class="headerlink" title="流程控制结构"></a>流程控制结构</h5><h6 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h6><p>一、全局变量</p>
<p>作用域：针对于所有会话（连接）有效，但不能跨重启</p>
<pre><code>查看所有全局变量
show global variables;
查看满足条件的部分系统变量
show global variableslike &#39;%char%&#39;;
查看指定的系统变量的值
select @@global.autocommit;
为某个系统变量赋值
set @@global.autocommit=0;
set global autocommit=0;</code></pre>
<p>二、会话变量</p>
<p>作用域：针对于当前会话（连接）有效</p>
<pre><code>查看所有会话变量
show 【session】 variables;
查看满足条件的部分会话变量
select 【session】 variables like &#39;%char%&#39;;
查看指定的会话变量的值
select @@【session.】tx_isolation;
为某个会话变量赋值
set @@session.tx_isolation=&#39;read-uncommitted&#39;;
set session tx_isolation=&#39;read-committed&#39;;</code></pre>
<h6 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h6><p>一、用户变量</p>
<p>声明并初始化：</p>
<pre><code>SET @变量名=值;
SET @变量名:=值;
SELECT @变量名:=值;</code></pre>
<p>赋值：</p>
<pre><code>方式一：一般用于赋简单的值
SET @变量名=值;
SET @变量名:=值;
SELECT @变量名:=值;


方式二：一般用于赋表中的字段值
SELECT 字段名或表达式 INTO @变量名
FROM 表
...;</code></pre>
<p>使用：</p>
<pre><code>select @变量名;</code></pre>
<p>二、局部变量</p>
<p>声明：</p>
<pre><code>declare 变量名 类型 【default 值】;</code></pre>
<p>赋值：</p>
<pre><code>方式一：一般用于赋简单的值
SET 变量名=值;
SET 变量名:=值;
SELECT @变量名:=值;


方式二：一般用于赋表中的字段值
SELECT 字段名或表达式 INTO 变量名
FROM 表
...;</code></pre>
<p>使用：</p>
<pre><code>select 变量名;</code></pre>
<p>二者的区别：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">		 作用域			   定义位置				语法</span><br><span class="line">用户变量  当前会话			   会话中的任何地方		 加@符号，不用指定类型</span><br><span class="line">局部变量  定义它的BEGIN END中  BEGIN END的第一句话  一般不用加@,需要指定类型</span><br></pre></td></tr></table></figure>

<h6 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h6><p>一、if函数<br>    语法：if(条件，值1，值2)<br>    特点：可以用在任何位置</p>
<p>二、case语句</p>
<p>语法：</p>
<pre><code>情况一：类似于switch
case 表达式
when 值1 then 结果1或语句1(如果是语句，需要加分号) 
when 值2 then 结果2或语句2(如果是语句，需要加分号)
...
else 结果n或语句n(如果是语句，需要加分号)
end 【case】（如果是放在begin end中需要加上case，如果放在select后面不需要）

情况二：类似于多重if
case 
when 条件1 then 结果1或语句1(如果是语句，需要加分号) 
when 条件2 then 结果2或语句2(如果是语句，需要加分号)
...
else 结果n或语句n(如果是语句，需要加分号)
end 【case】（如果是放在begin end中需要加上case，如果放在select后面不需要）</code></pre>
<p>特点：<br>    如果then和else后是接的值，则可以用在任何位置；如果then和else后是接的语句，则只能放在begin end中<br>    else可以省略，如果省略，并且所有when条件都不满足，则返回null</p>
<p>三、if elseif语句</p>
<p>语法：</p>
<pre><code>if 条件1 then 语句1;
elseif 条件2 then 语句2;
...
【else 语句n;】
end if;</code></pre>
<p>特点：<br>    只能用在begin end中</p>
<p>三者比较：<br>                        应用场合<br>    if函数          简单双分支<br>    case结构    等值判断 的多分支<br>    if结构          区间判断 的多分支</p>
<h6 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h6><p>分类：</p>
<p>while、loop、repeat</p>
<p>循环控制：</p>
<p>iterate 类似于continue，继续，结束当前循环，继续下一次<br>leave 类似于break，跳出，结束当前所在的循环</p>
<p>语法：</p>
<pre><code>【标签：】WHILE 循环条件  DO
    循环体
END WHILE 【标签】;    //相当于while

【标签：】loop
    循环体
end loop 【标签】;    //可以用来模拟死简单的循环

【标签：】repeat
    循环体
until 结束循环条件
end repeat 【标签】;    //相当于do while</code></pre>
<p>特点：</p>
<pre><code>只能放在BEGIN END里面
如果要搭配leave跳转语句，需要使用标签，否则可以不用标签</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:757224748@qq.com">Yez Sun</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://sunshine-boy-yez.github.io/2021/03/03/MySQL%E5%9F%BA%E7%A1%80/">https://sunshine-boy-yez.github.io/2021/03/03/MySQL%E5%9F%BA%E7%A1%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/03/07/JDBC/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">JDBC核心技术</div></div></a></div><div class="next-post pull-right"><a href="/2021/01/31/Linux%E6%95%99%E7%A8%8B/"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Linux教程</div></div></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/zhiZhu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Yez Sun</div><div class="author-info__description">Recording and sharing techniques</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Sunshine-boy-yez"><i class="fab fa-github"></i><span>GitHub主页</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Sunshine-boy-yez" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:757224748@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-number">1.</span> <span class="toc-text">数据库的好处</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="toc-number">2.</span> <span class="toc-text">数据库相关概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">3.</span> <span class="toc-text">数据库存储数据的特点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9D%E8%AF%86MySQL"><span class="toc-number">4.</span> <span class="toc-text">初识MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#MySQL%E4%BA%A7%E5%93%81%E7%9A%84%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%AE%89%E8%A3%85"><span class="toc-number">4.1.</span> <span class="toc-text">MySQL产品的介绍和安装</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#MySQL%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E5%81%9C%E6%AD%A2"><span class="toc-number">4.2.</span> <span class="toc-text">MySQL服务的启动和停止</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#MySQL%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%99%BB%E5%BD%95%E5%92%8C%E9%80%80%E5%87%BA"><span class="toc-number">4.3.</span> <span class="toc-text">MySQL服务的登录和退出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#MySQL%E7%9A%84%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4"><span class="toc-number">4.4.</span> <span class="toc-text">MySQL的常见命令</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#MySQL%E7%9A%84%E8%AF%AD%E6%B3%95%E8%A7%84%E8%8C%83"><span class="toc-number">4.5.</span> <span class="toc-text">MySQL的语法规范</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#SQL%E7%9A%84%E8%AF%AD%E8%A8%80%E5%88%86%E7%B1%BB"><span class="toc-number">4.6.</span> <span class="toc-text">SQL的语言分类</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DQL%E8%AF%AD%E8%A8%80%E7%9A%84%E5%AD%A6%E4%B9%A0"><span class="toc-number">5.</span> <span class="toc-text">DQL语言的学习</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B61%EF%BC%9A%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.1.</span> <span class="toc-text">进阶1：基础查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B62%EF%BC%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.</span> <span class="toc-text">进阶2：条件查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B63%EF%BC%9A%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.3.</span> <span class="toc-text">进阶3：排序查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B64%EF%BC%9A%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.</span> <span class="toc-text">进阶4：常见函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B65%EF%BC%9A%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.5.</span> <span class="toc-text">进阶5：分组查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B66%EF%BC%9A%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.6.</span> <span class="toc-text">进阶6：连接查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B67%EF%BC%9A%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.7.</span> <span class="toc-text">进阶7：子查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B68%EF%BC%9A%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.8.</span> <span class="toc-text">进阶8：分页查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%BF%9B%E9%98%B69%EF%BC%9A%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.9.</span> <span class="toc-text">进阶9：联合查询</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DML%E8%AF%AD%E8%A8%80"><span class="toc-number">6.</span> <span class="toc-text">DML语言</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8F%92%E5%85%A5"><span class="toc-number">6.1.</span> <span class="toc-text">插入</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9"><span class="toc-number">6.2.</span> <span class="toc-text">修改</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">6.3.</span> <span class="toc-text">删除</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DDL%E8%AF%AD%E8%A8%80"><span class="toc-number">7.</span> <span class="toc-text">DDL语言</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BA%93%E5%92%8C%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">7.1.</span> <span class="toc-text">库和表的管理</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.2.</span> <span class="toc-text">常见类型</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%BA%A6%E6%9D%9F"><span class="toc-number">7.3.</span> <span class="toc-text">常见约束</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1"><span class="toc-number">8.</span> <span class="toc-text">数据库事务</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%90%AB%E4%B9%89"><span class="toc-number">8.1.</span> <span class="toc-text">含义</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">8.2.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">8.3.</span> <span class="toc-text">事务的分类</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%88%B0%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">8.4.</span> <span class="toc-text">使用到的关键字</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">8.5.</span> <span class="toc-text">事务的隔离级别</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">9.</span> <span class="toc-text">视图</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">9.1.</span> <span class="toc-text">视图的创建</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E9%80%BB%E8%BE%91%E7%9A%84%E6%9B%B4%E6%96%B0"><span class="toc-number">9.2.</span> <span class="toc-text">视图逻辑的更新</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">9.3.</span> <span class="toc-text">视图的删除</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%BB%93%E6%9E%84%E7%9A%84%E6%9F%A5%E7%9C%8B"><span class="toc-number">9.4.</span> <span class="toc-text">视图结构的查看</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">9.5.</span> <span class="toc-text">视图的增删改查</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9F%90%E4%BA%9B%E8%A7%86%E5%9B%BE%E4%B8%8D%E8%83%BD%E6%9B%B4%E6%96%B0"><span class="toc-number">9.6.</span> <span class="toc-text">某些视图不能更新</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95"><span class="toc-number">10.</span> <span class="toc-text">索引</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-number">10.1.</span> <span class="toc-text">创建索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95"><span class="toc-number">10.2.</span> <span class="toc-text">查看索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="toc-number">10.3.</span> <span class="toc-text">删除索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%89%8D%E7%BC%80%E7%B4%A2%E5%BC%95"><span class="toc-number">10.4.</span> <span class="toc-text">前缀索引</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="toc-number">11.</span> <span class="toc-text">存储过程与函数</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">11.1.</span> <span class="toc-text">创建存储过程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">11.2.</span> <span class="toc-text">调用存储过程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0"><span class="toc-number">11.3.</span> <span class="toc-text">创建函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">11.4.</span> <span class="toc-text">调用函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%92%8C%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">11.5.</span> <span class="toc-text">函数和存储过程的区别</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E8%A7%A6%E5%8F%91%E6%9D%A1%E4%BB%B6%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">11.6.</span> <span class="toc-text">错误触发条件和错误处理</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B8%B8%E6%A0%87"><span class="toc-number">11.7.</span> <span class="toc-text">游标</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">12.</span> <span class="toc-text">触发器</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">12.1.</span> <span class="toc-text">创建触发器</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">12.2.</span> <span class="toc-text">查看触发器</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">12.3.</span> <span class="toc-text">删除触发器</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="toc-number">13.</span> <span class="toc-text">流程控制结构</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="toc-number">13.1.</span> <span class="toc-text">系统变量</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">13.2.</span> <span class="toc-text">自定义变量</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="toc-number">13.3.</span> <span class="toc-text">分支结构</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">13.4.</span> <span class="toc-text">循环结构</span></a></li></ol></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/09/12/Maven/" title="Maven"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Maven"/></a><div class="content"><a class="title" href="/2021/09/12/Maven/" title="Maven">Maven</a><time datetime="2021-09-12T03:44:27.000Z" title="Created 2021-09-12 11:44:27">2021-09-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/08/Mybatis/" title="Mybatis3"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mybatis3"/></a><div class="content"><a class="title" href="/2021/05/08/Mybatis/" title="Mybatis3">Mybatis3</a><time datetime="2021-05-07T16:33:13.000Z" title="Created 2021-05-08 00:33:13">2021-05-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/13/Spring5/" title="Spring5"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring5"/></a><div class="content"><a class="title" href="/2021/04/13/Spring5/" title="Spring5">Spring5</a><time datetime="2021-04-13T07:35:09.000Z" title="Created 2021-04-13 15:35:09">2021-04-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/08/JDBCcode/" title="JDBC Code精简"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JDBC Code精简"/></a><div class="content"><a class="title" href="/2021/04/08/JDBCcode/" title="JDBC Code精简">JDBC Code精简</a><time datetime="2021-04-08T11:27:35.000Z" title="Created 2021-04-08 19:27:35">2021-04-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/18/javaWeb/" title="JavaWeb"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaWeb"/></a><div class="content"><a class="title" href="/2021/03/18/javaWeb/" title="JavaWeb">JavaWeb</a><time datetime="2021-03-18T07:38:43.000Z" title="Created 2021-03-18 15:38:43">2021-03-18</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Yez Sun</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>